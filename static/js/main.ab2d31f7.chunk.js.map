{"version":3,"sources":["api/api.js","lib/helpers.js","components/search/SearchResults.js","components/search/Search.js","App.js","reportWebVitals.js","index.js","components/search/search.module.scss"],"names":["getPrefix","plate","body","console","log","templates","REGISTRATION_PATTERN_MAP","PREFIX_TEMPLATE","map","template","replace","testPlate","plateToTemplate","indexes","reduce","matches","index","indexOf","push","search","split","chars","char","indx","toUpperCase","forEach","a","payload","x","join","fetch","method","headers","JSON","stringify","rawResponse","json","content","allPossibleCases","array","result","element","length","slice","splice","flat","getAllPossiblePlates","str","toLowerCase","plates","currentPlate","Object","keys","filter","key","find","test","includes","validatePlate","renderPossiblePlates","className","style","smallPlate","SearchResults","possiblePlates","plateCount","text","smallPlates","Search","props","useState","value","setValue","onChange","e","target","useInput","type","input","plateInput","setPossiblePlates","useEffect","container","onClick","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","StylesProvider","injectFirst","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.ab2d31f7.chunk.js","sourcesContent":["import qs from \"qs\";\nimport {plateToTemplate, PREFIX_TEMPLATE, REGISTRATION_PATTERN_MAP} from \"../lib/helpers\";\n\nexport const getPrefix = (plate) => {\n\n   const body = {\n      \"filters\": \"\",\n      \"Table\": \"tbPre\",\n      \"SearchCode\": \"3PStartt01\",\n      \"SupplierOrder\": \"undefined\",\n      \"IncludeAllSellersPlates\": \"1\",\n      \"IncludeAllDealersPlates\": \"1\",\n      \"pageSize\": \"20\",\n      \"MaxResults\": \"50000\"\n   };\n\n   console.log('-----------------------');\n   console.log('getPrefix', plate);\n   const templates = REGISTRATION_PATTERN_MAP[PREFIX_TEMPLATE].map(template => template.replace(/\\s/gi, ''));\n\n   const testPlate = plateToTemplate(plate);\n\n   const indexes = templates.reduce((matches, template) => {\n      const index = template.indexOf(testPlate);\n      if (index >= 0) matches.push({ index, template });\n      return matches;\n   }, []);\n\n   console.log(indexes);\n\n   const searches = indexes.map(({index, template}) => {\n      console.log(index, template);\n      const search = plate.split('').reduce((chars,char, indx) => {\n         chars.push(`L${index + indx + 1}='${char.toUpperCase()}'`);\n         return chars;\n      }, []);\n      return { index, template, search };\n   });\n\n   searches.forEach(async ({search}) => {\n\n      const payload = {\n         ...body,\n         x: `select top 50 *,0 as QueryOrder from tbNew where ${search.join(' AND ')} Order By Price,plate`,\n      };\n\n      const rawResponse = await fetch('http://localhost:3001/prefix', {\n         method: 'POST',\n         headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n         },\n         body: JSON.stringify(payload)\n      });\n      const content = await rawResponse.json();\n\n      console.log(content);\n\n      // const req = {\n      //    // ...body,\n      //    x: `select top 50 *,0 as QueryOrder from tbNew where ${search.join(' AND ')} Order By Price,plate`,\n      // };\n      //\n      // console.log(req.x);\n      //\n      // console.log(JSON.stringify(req));\n      //\n      // const f = await fetch('http://localhost:3001/prefix', {\n      //    method: 'POST', // *GET, POST, PUT, DELETE, etc.\n      //    mode: 'no-cors', // no-cors, *cors, same-origin\n      //    headers: {\n      //       'Accept': 'application/json',\n      //       'Content-Type': 'application/json'\n      //    },\n      //    body: JSON.stringify(req)\n      // })\n      //\n      // console.log(await f.json());\n\n      // fetch(\"https://www.plates4less.co.uk/scripts/supersearch/GetSearchResults42.asp\", {\n      //    \"headers\": {\n      //       \"accept\": \"text/plain\",\n      //       \"accept-language\": \"en-US,en;q=0.9\",\n      //       \"cache-control\": \"no-cache\",\n      //       \"content-type\": \"application/x-www-form-urlencoded\",\n      //       \"pragma\": \"no-cache\",\n      //       \"sec-fetch-dest\": \"empty\",\n      //       \"sec-fetch-mode\": \"cors\",\n      //       \"sec-fetch-site\": \"same-origin\",\n      //       \"x-requested-with\": \"XMLHttpRequest\"\n      //    },\n      //    \"referrer\": \"https://www.plates4less.co.uk/\",\n      //    \"referrerPolicy\": \"strict-origin-when-cross-origin\",\n      //    \"body\": req,\n      //    \"method\": \"POST\",\n      //    \"credentials\": \"include\"\n      // }).then(res => console.log(res.json()));\n\n   });\n\n   return null;\n\n   // console.log(qs.parse(\"x=select%20top%2050%20*%2C0%20as%20QueryOrder%20from%20tbNew%20where%20L1%20%3D%27A%27%20and%20L2%20%3D%27S%27%20and%20L3%20%3D%27H%27%20Order%20By%20Price%2Cplate&filters=&Table=tbNew&SearchCode=3NE02&SupplierOrder=undefined&IncludeAllSellersPlates=1&IncludeAllDealersPlates=1&pageSize=20&MaxResults=50000\"));\n\n   // fetch(\"https://www.plates4less.co.uk/scripts/supersearch/GetSearchResults42.asp\", {\n   //    \"headers\": {\n   //       \"accept\": \"text/plain\",\n   //       \"accept-language\": \"en-US,en;q=0.9\",\n   //       \"cache-control\": \"no-cache\",\n   //       \"content-type\": \"application/x-www-form-urlencoded\",\n   //       \"pragma\": \"no-cache\",\n   //       \"sec-fetch-dest\": \"empty\",\n   //       \"sec-fetch-mode\": \"cors\",\n   //       \"sec-fetch-site\": \"same-origin\",\n   //       \"x-requested-with\": \"XMLHttpRequest\"\n   //    },\n   //    \"referrer\": \"https://www.plates4less.co.uk/\",\n   //    \"referrerPolicy\": \"strict-origin-when-cross-origin\",\n   //    \"body\": \"x=select+top+10+%2A%2C0+as+QueryOrder++from+tbPre+where+P+%3D%27V%27+and+N+%3D+%27100%27+and+L1+%3D%27V%27+and+L2+%3D%27V%27+and+L3+%3D%27V%27SQLSEPselect+top+10+%2A%2C0+as+QueryOrder++from+tbPre+where+P+%3D%27V%27+and+N+%3D+%27100%27+and+L1+%3D%27V%27+and+L2+%3D%27V%27+and+L3+%3D%27x%27SQLSEPselect+top+10+%2A%2C0+as+QueryOrder++from+tbPre+where+P+%3D%27V%27+and+N+%3D+%27100%27+and+L1+%3D%27V%27+and+L2+%3D%27V%27+and+L3+%3D%27o%27SQLSEPselect+top+10+%2A%2C0+as+QueryOrder++from+tbPre+where+P+%3D%27V%27+and+N+%3D+%27100%27+and+L1+%3D%27V%27+and+L2+%3D%27V%27+and+L3+%3D%27s%27SQLSEPselect+top+10+%2A%2C0+as+QueryOrder++from+tbPre+where+P+%3D%27V%27+and+N+%3D+%27100%27+and+L1+%3D%27V%27+and+L2+%3D%27V%27SQLSEPselect+top+10+%2A%2C0+as+QueryOrder++from+tbPre+where+P+%3D%27V%27+and+N+%3D+%27100%27+and+L1+%3D%27V%27+and+L2+%3D%27x%27+and+L3+%3D%27x%27SQLSEPselect+top+10+%2A%2C0+as+QueryOrder++from+tbPre+where+P+%3D%27V%27+and+N+%3D+%27100%27+and+L1+%3D%27V%27+and+L2+%3D%27o%27+and+L3+%3D%27o%27SQLSEPselect+top+10+%2A%2C0+as+QueryOrder++from+tbPre+where+P+%3D%27V%27+and+N+%3D+%27100%27+and+L1+%3D%27V%27+and+L2+%3D%27s%27+and+L3+%3D%27s%27SQLSEPselect+top+10+%2A%2C0+as+QueryOrder++from+tbPre+where+P+%3D%27V%27+and+N+%3D+%27100%27+and+L1+%3D%27x%27+and+L2+%3D%27x%27+and+L3+%3D%27x%27SQLSEPselect+top+10+%2A%2C0+as+QueryOrder++from+tbPre+where+P+%3D%27V%27+and+N+%3D+%27100%27+and+L1+%3D%27o%27+and+L2+%3D%27o%27+and+L3+%3D%27o%27SQLSEPselect+top+10+%2A%2C0+as+QueryOrder++from+tbPre+where+P+%3D%27V%27+and+N+%3D+%27100%27+and+L1+%3D%27s%27+and+L2+%3D%27s%27+and+L3+%3D%27s%27SQLSEPselect+top+10+%2A%2C0+as+QueryOrder++from+tbPre+where+P+%3D%27V%27+and+N+%3D+%27100%27+and+L1+%3D%27x%27+and+L2+%3D%27x%27+and+L3+%3D%27V%27SQLSEPselect+top+10+%2A%2C0+as+QueryOrder++from+tbPre+where+P+%3D%27V%27+and+N+%3D+%27100%27+and+L1+%3D%27o%27+and+L2+%3D%27o%27+and+L3+%3D%27V%27SQLSEPselect+top+10+%2A%2C0+as+QueryOrder++from+tbPre+where+P+%3D%27V%27+and+N+%3D+%27100%27+and+L1+%3D%27s%27+and+L2+%3D%27s%27+and+L3+%3D%27V%27SQLSEPselect+top+10+%2A%2C0+as+QueryOrder++from+tbPre+where+P+%3D%27V%27+and+N+%3D+%27100%27+and+L1+%3D%27x%27+and+L2+%3D%27x%27SQLSEPselect+top+10+%2A%2C0+as+QueryOrder++from+tbPre+where+P+%3D%27V%27+and+N+%3D+%27100%27+and+L1+%3D%27o%27+and+L2+%3D%27o%27SQLSEPselect+top+10+%2A%2C0+as+QueryOrder++from+tbPre+where+P+%3D%27V%27+and+N+%3D+%27100%27+and+L1+%3D%27s%27+and+L2+%3D%27s%27SQLSEPselect+top+10+%2A%2C0+as+QueryOrder++from+tbPre+where+P+%3D%27V%27+and+N+%3D+%27100%27+and+L1+%3D%27x%27+and+L2+%3D%27V%27+and+L3+%3D%27V%27SQLSEPselect+top+10+%2A%2C0+as+QueryOrder++from+tbPre+where+P+%3D%27V%27+and+N+%3D+%27100%27+and+L1+%3D%27o%27+and+L2+%3D%27V%27+and+L3+%3D%27V%27SQLSEPselect+top+10+%2A%2C0+as+QueryOrder++from+tbPre+where+P+%3D%27V%27+and+N+%3D+%27100%27+and+L1+%3D%27s%27+and+L2+%3D%27V%27+and+L3+%3D%27V%27SQLSEPselect+top+10+%2A%2C0+as+QueryOrder++from+tbPre+where+P+%3D%27V%27+and+N+%3D+%27100%27+and+L1+%3D%27x%27+and+L3+%3D%27V%27SQLSEPselect+top+10+%2A%2C0+as+QueryOrder++from+tbPre+where+P+%3D%27V%27+and+N+%3D+%27100%27+and+L1+%3D%27o%27+and+L3+%3D%27V%27SQLSEPselect+top+10+%2A%2C0+as+QueryOrder++from+tbPre+where+P+%3D%27V%27+and+N+%3D+%27100%27+and+L1+%3D%27s%27+and+L3+%3D%27V%27SQLSEPselect+top+10+%2A%2C0+as+QueryOrder++from+tbPre+where+P+%3D%27V%27+and+N+%3D+%27100%27+and+L1+%3D%27x%27+and+L2+%3D%27V%27SQLSEPselect+top+10+%2A%2C0+as+QueryOrder++from+tbPre+where+P+%3D%27V%27+and+N+%3D+%27100%27+and+L1+%3D%27o%27+and+L2+%3D%27V%27SQLSEPselect+top+10+%2A%2C0+as+QueryOrder++from+tbPre+where+P+%3D%27V%27+and+N+%3D+%27100%27+and+L1+%3D%27s%27+and+L2+%3D%27V%27SQLSEPselect+top+10+%2A%2C0+as+QueryOrder++from+tbPre+where+P+%3D%27V%27+and+N+%3D+%27100%27&filters=100%3A0SQLSEP100%3A0SQLSEP100%3A0SQLSEP100%3A0SQLSEP100%3A0SQLSEP100%3A0SQLSEP100%3A0SQLSEP100%3A0SQLSEP100%3A0SQLSEP100%3A0SQLSEP100%3A0SQLSEP100%3A0SQLSEP100%3A0SQLSEP100%3A0SQLSEP100%3A0SQLSEP100%3A0SQLSEP100%3A0SQLSEP100%3A0SQLSEP100%3A0SQLSEP100%3A0SQLSEP100%3A0SQLSEP100%3A0SQLSEP100%3A0SQLSEP100%3A0SQLSEP100%3A0SQLSEP100%3A0SQLSEP100%3A0&Table=tbPre&SearchCode=4PStartt01&SupplierOrder=undefined&IncludeAllSellersPlates=1&IncludeAllDealersPlates=1&pageSize=20&MaxResults=50000\",\n   //    \"method\": \"POST\",\n   //    \"mode\": \"cors\",\n   //    \"credentials\": \"include\"\n   // });\n\n   // fetch(\"https://www.plates4less.co.uk/scripts/supersearch/GetSearchResults42.asp\", {\n   //    \"headers\": {\n   //       \"accept\": \"text/plain\",\n   //       \"accept-language\": \"en-US,en;q=0.9\",\n   //       \"cache-control\": \"no-cache\",\n   //       \"content-type\": \"application/x-www-form-urlencoded\",\n   //       \"pragma\": \"no-cache\",\n   //       \"sec-fetch-dest\": \"empty\",\n   //       \"sec-fetch-mode\": \"cors\",\n   //       \"sec-fetch-site\": \"same-origin\",\n   //       \"x-requested-with\": \"XMLHttpRequest\"\n   //    },\n   //    \"referrer\": \"https://www.plates4less.co.uk/\",\n   //    \"referrerPolicy\": \"strict-origin-when-cross-origin\",\n   //    \"body\": \"x=select%20top%2050%20*%2C0%20as%20QueryOrder%20from%20tbNew%20where%20L1%20%3D%27A%27%20and%20L2%20%3D%27S%27%20and%20L3%20%3D%27H%27%20Order%20By%20Price%2Cplate&filters=&Table=tbNew&SearchCode=3NE02&SupplierOrder=undefined&IncludeAllSellersPlates=1&IncludeAllDealersPlates=1&pageSize=20&MaxResults=50000\",\n   //    \"method\": \"POST\",\n   //    \"mode\": \"cors\",\n   //    \"credentials\": \"include\"\n   // });\n}\n","import {useState} from 'react';\nimport { validate as plateValidate } from 'uk-numberplate-format';\nimport style from '../components/search/search.module.scss';\nimport {getPrefix} from \"../api/api\";\n\nexport const useInput = (props) => {\n   const [value, setValue] = useState('');\n   const input = <input value={value} onChange={e => setValue(e.target.value)} {...props} />;\n   return [value, input];\n}\n\nexport function allPossibleCases(array, result, index) {\n   if (!result) {\n      result = [];\n      index = 0;\n      array = array.map(function (element) {\n         return element.push ? element : [element];\n      });\n   }\n   if (index < array.length) {\n      array[index].forEach(function (element) {\n         const a = array.slice(0);\n         a.splice(index, 1, [element]);\n         allPossibleCases(a, result, index + 1);\n      });\n   } else {\n      result.push(array.flat());\n   }\n   return result;\n}\n\nexport const permutationsOfLetter = (str) => str.toLowerCase().split('').map(char => {\n   switch (char) {\n      case 'a':\n         return ['a', '4'];\n      case 'b':\n      case '8':\n         return ['b', '13', '6', '8'];\n      case 'c':\n         return ['c', '6'];\n      // d\n      case 'e':\n         return ['e', '3'];\n      // f\n      case 'g':\n      case '6':\n      case '9':\n         return ['g', '6', '9'];\n      case 'h':\n         return ['h', '11'];\n      case 'i':\n      case '1':\n         return ['i', '1'];\n      // j\n      // k\n      case 'l':\n         return ['l', '1', 'i'];\n      // m\n      // n\n      case 'o':\n      case '0':\n         return ['o', '0'];\n      // p\n      // q\n      case 'r':\n         return ['r', '2', '12'];\n      case 's':\n      case '5':\n         return ['s', '5'];\n      case 't':\n         return ['t', '7'];\n      case 'u':\n         return ['u', '11'];\n      // v\n      // w\n      // x\n      case 'y':\n         return ['y', '7'];\n      case 'z':\n      case '2':\n         return ['z', '2'];\n\n      default:\n         return [char];\n   }\n});\n\nexport const PREFIX_TEMPLATE = 'PREFIX';\nexport const CURRENT_TEMPLATE = 'CURRENT';\nexport const SUFFIX_TEMPLATE = 'SUFFIX';\nexport const DATELESS_TEMPLATE = 'DATELESS';\nexport const NORTHERN_IRELAND_TEMPLATE = 'NORTHERN_IRELAND';\n\nexport const REGISTRATION_PATTERN_MAP = {\n   [PREFIX_TEMPLATE]: [\n      'D5 DDD',\n      'D55 DDD',\n      'D555 DDD'\n   ],\n   [CURRENT_TEMPLATE]: [\n      'DD55 DDD'\n   ],\n   [SUFFIX_TEMPLATE]: [\n      'DDD 5D',\n      'DDD 55D',\n      'DDD 555D'\n   ],\n   [DATELESS_TEMPLATE]: [\n      '5 D',\n      '5 DD',\n      '5 DDD',\n      '55 D',\n      '55 DD',\n      '55 DDD',\n      '555 D',\n      '555 DD',\n      '555 DDD',\n      '5555 D',\n      '5555 DD'\n   ],\n   [NORTHERN_IRELAND_TEMPLATE]: [\n      'DD 5',\n      'DD 55',\n      'DD 555',\n      'DD 5555',\n      'DDD 5',\n      'DDD 55',\n      'DDD 555',\n      'DDD 5555'\n   ]\n};\n\nexport const plateToTemplate = (plate) => plate.replace(/[A-Z]/gi, 'D')\n   .replace(/[0-9]/gi, '5')\n   .replace(/\\s/gi, '');\n\nconst validatePlate = (plate) => {\n\n   let testPlate = plateToTemplate(plate);\n\n   const matches = Object.keys(REGISTRATION_PATTERN_MAP).filter(key => REGISTRATION_PATTERN_MAP[key].find(test => test.replace(/\\s/gi, '').includes(testPlate)));\n\n   return {\n      plate,\n      matches\n   };\n\n}\n\nexport const getAllPossiblePlates = (plate) => {\n   if (!plate) return [];\n   return allPossibleCases(permutationsOfLetter(plate)).reduce((plates, currentPlate) => {\n      const str = currentPlate.join('');\n\n      const {matches} = validatePlate(str);\n      if (matches.length) plates.push({plate: str, matches})\n\n      return plates;\n   }, []);\n}\n\nexport const renderPossiblePlates = (plates = []) => {\n   return plates.map(({plate, matches}) => {\n\n      if (matches.includes(PREFIX_TEMPLATE)) {\n         getPrefix(plate);\n      }\n\n      return <div className={style.smallPlate} key={plate} matches={matches}>{plate}</div>\n   })\n};\n","import style from \"./search.module.scss\";\n\nconst SearchResults = ({ possiblePlates = [] }) => {\n   if (!possiblePlates) return null;\n   const plateCount = possiblePlates.length;\n\n   const text = !plateCount\n      ? 'Type a phrase above to begin'\n      : `Searching for ${plateCount} possible permutation${plateCount && 's'}`;\n\n   return <>\n      <div className={style.smallPlates}>\n         <p>{text}</p>\n         {possiblePlates}\n      </div>\n   </>\n}\n\nexport default SearchResults;\n","import {useEffect, useState} from 'react';\nimport style from './search.module.scss';\nimport {useInput, renderPossiblePlates, getAllPossiblePlates} from \"../../lib/helpers\";\nimport SearchIcon from '@material-ui/icons/Search';\nimport SearchResults from \"./SearchResults\";\nimport {getPrefix} from \"../../api/api\";\n\nconst Search = () => {\n\n   const [plate, plateInput] = useInput({type: 'text', className: style.input });\n   const [possiblePlates, setPossiblePlates] = useState([]);\n\n   const doSearch = () => {\n      setPossiblePlates(plate.length ? getAllPossiblePlates(plate) : []);\n   };\n\n   useEffect(() => {\n      console.log(possiblePlates);\n   }, [possiblePlates]);\n\n   return <>\n      <div className={style.container}>\n         <div className={style.plate}>\n            {plateInput}\n         </div>\n         <SearchIcon className={style.search} onClick={doSearch}/>\n      </div>\n      <SearchResults possiblePlates={renderPossiblePlates(possiblePlates)} />\n      <div>\n         <h1>Prefix</h1>\n      </div>\n   </>;\n}\n\nexport default Search;\n","import './App.css';\nimport Search from \"./components/search/Search\";\n\nfunction App() {\n  return (\n      <header className=\"App-header\">\n        <Search />\n      </header>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { StylesProvider } from '@material-ui/core/styles';\n\nReactDOM.render(\n  <React.StrictMode>\n     <StylesProvider injectFirst>\n        <App />\n     </StylesProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"search_container__3V7f6\",\"plate\":\"search_plate__1W14a\",\"smallPlate\":\"search_smallPlate__2qMtE\",\"input\":\"search_input__2xXNa\",\"search\":\"search_search__D7Pl3\",\"smallPlates\":\"search_smallPlates__17Nax\"};"],"sourceRoot":""}